---
interface Props {
  question: string;
  options: string[];
  answer: string;
  explanation?: string;
}

const { question, options, answer, explanation } = Astro.props;
---

<div class="exercise-box">
  <h4 class="question">{question}</h4>
  <ul class="options">
    {options.map((opt) => (
      <li>{opt}</li>
    ))}
  </ul>
  <details class="answer-section">
    <summary>üí° Êü•ÁúãÁ≠îÊ°à</summary>
    <div class="answer-content">
      <p><strong>‚úÖ Á≠îÊ°àÔºö</strong>{answer}</p>
      {explanation && <p><strong>üìñ Ëß£ÊûêÔºö</strong>{explanation}</p>}
    </div>
  </details>
</div>

<style>
  .exercise-box {
    border: 2px solid var(--sl-color-gray-5);
    border-radius: 12px;
    padding: 1.5rem;
    margin: 1.5rem 0;
    background: var(--sl-color-bg);
    transition: all 0.3s ease;
  }
  
  .exercise-box:hover {
    border-color: var(--sl-color-accent);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }
  
  .question {
    margin-top: 0;
    margin-bottom: 1rem;
    color: var(--sl-color-white);
    font-size: 1.1rem;
  }
  
  .options {
    list-style: none;
    padding-left: 0;
  }
  
  .options li {
    padding: 0.75rem 1rem;
    margin: 0.5rem 0;
    background: var(--sl-color-gray-6);
    border-radius: 8px;
    border-left: 3px solid var(--sl-color-gray-4);
    transition: all 0.2s ease;
    cursor: pointer;
  }
  
  .options li:hover {
    background: var(--sl-color-gray-5);
    border-left-color: var(--sl-color-accent);
    transform: translateX(4px);
  }
  
  .answer-section {
    margin-top: 1.5rem;
    padding: 1.25rem;
    background: #dcfce7;
    border-radius: 8px;
    border: 2px solid #22c55e;
  }
  
  .answer-section summary {
    cursor: pointer;
    font-weight: 600;
    color: #15803d;
    user-select: none;
    list-style: none;
  }
  
  .answer-section summary::-webkit-details-marker {
    display: none;
  }
  
  .answer-section[open] summary {
    margin-bottom: 1rem;
    border-bottom: 1px solid #86efac;
    padding-bottom: 0.75rem;
  }
  
  .answer-content {
    padding-top: 0.5rem;
  }
  
  .answer-content p {
    margin: 0.75rem 0;
    line-height: 1.8;
    color: #14532d;
    font-size: 1rem;
  }
  
  .answer-content strong {
    color: #166534;
    font-weight: 700;
  }

  /* ÊöóÈªëÊ®°Âºè */
  :global([data-theme='dark']) .answer-section {
    background: #14532d;
    border-color: #22c55e;
  }
  
  :global([data-theme='dark']) .answer-section summary {
    color: #86efac;
  }
  
  :global([data-theme='dark']) .answer-section[open] summary {
    border-bottom-color: #166534;
  }
  
  :global([data-theme='dark']) .answer-content p {
    color: #dcfce7;
  }
  
  :global([data-theme='dark']) .answer-content strong {
    color: #4ade80;
  }
</style>
