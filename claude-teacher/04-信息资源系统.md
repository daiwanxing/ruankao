# 第四章 信息资源系统

## 4.1 数据资源平台

### 一、教学目标

掌握计算服务器、存储设备、数据库技术和数据中心组网技术的核心概念和特点，理解不同类型数据中心的架构和应用场景。

### 二、核心讲解

#### 1. 计算服务器

**计算服务器**：
- **主要功能**：承载和提供各类业务应用、管理服务及数据资源共享服务
- **特点要求**：
  - 高速的CPU计算能力
  - 较大的存储空间
  - 长时间的可靠运行
  - 强大的I/O外部数据吞吐能力
  - 更好的扩展性

**人工智能（AI）服务器**：
- **AI三要素**：算力、算法、数据
- **AI芯片分类**：
  - **训练芯片**：注重强大的计算能力
  - **推理芯片**：注重综合指标

#### 2. 数据存储和备份设备

**存储产品类型**：

| 存储类型 | 说明 |
|---------|------|
| 磁盘阵列 | 多个磁盘组合提供高性能存储 |
| 磁带机与磁带库 | 适合大容量、长期备份 |
| 光盘库 | 适合归档存储 |
| 存储区域网络（SAN） | 采用光纤通道技术，高带宽、低延迟，价格较高，可扩展性较差 |
| 网络附加存储（NAS） | 通过标准网络拓扑结构连接，以文件为传输协议，可扩展性好、价格便宜、用户易管理 |
| 对象存储 | 保留大量非结构化数据，兼具SAN的高速直接访问及NAS的分布式共享特点 |
| 集中式存储 | 数据集中存储于中心节点，核心部件集中，冗余性和扩展能力较差 |
| 分布式存储 | 数据分散存储在多台独立存储设备上，成本较低，扩展能力强，但延迟高、有数据一致性问题 |

**存储技术选择要点**：
- **SAN**：高性能需求，价格不敏感
- **NAS**：文件共享，成本敏感
- **对象存储**：海量非结构化数据
- **集中式**：小规模、简单应用
- **分布式**：大规模、高可用需求

#### 3. 主流数据库技术和系统

**数据分类**：
- **结构化数据**：符合关系型数据库，二维表格式
- **非结构化数据**：没有固定结构的数据

**数据库系统分类**：

| 数据库类型 | 说明 | 典型产品 |
|-----------|------|----------|
| **关系型数据库** | 存储格式直观反映实体间关系，保证ACID特性 | Oracle、DB2、MySQL、SQL Server、Access |
| **非关系型数据库（NoSQL）** | 分布式、非关系型、不保证遵循ACID原则，适合文档、图片、文件形式 | MongoDB、HBase、Redis、Neo4j、GaussDB(for Mongo) |

**NoSQL特点**：
- 灵活的应用场景
- 使用灵活
- 适合文档形式、图片形式、文件形式等

#### 4. 典型数据中心组网技术

**数据中心定义**：
为互联网业务提供商、内容提供商、政府、企业、媒体、各类网站、个人提供大规模、高质量、安全可靠的专业化服务器托管、空间租用、云计算资源租用、业务应用部署等服务。

**数据中心网络结构**：
- **网络连接模块**
- **业务接入模块**
- **后台管理模块**

**数据中心组网架构**：
- **核心层**：高速交换
- **汇聚层**：汇聚接入
- **接入层**：设备接入

### 三、通俗例子

**计算服务器例子**：
就像银行的总行服务器，需要处理全国所有分支机构的业务，必须具备强大的计算能力、存储能力和稳定性。

**SAN和NAS的区别**：
- **SAN**：像专用高速公路，速度快但费用高，适合对速度要求极高的业务
- **NAS**：像普通公路，速度适中但费用便宜，适合日常文件共享

**集中式和分布式存储例子**：
- **集中式存储**：像大型图书馆，所有书都集中在总馆，借阅方便但容量有限
- **分布式存储**：像社区图书馆网络，每个社区都有自己的小图书馆，覆盖面广但协调复杂

### 四、知识点速记

1. **AI三要素**：算力、算法、数据
2. **AI芯片两类型**：训练芯片（强计算）、推理芯片（综合指标）
3. **SAN特点**：光纤通道、高带宽、低延迟、价格高、扩展性差
4. **NAS特点**：以太网连接、文件协议、可扩展性好、价格便宜
5. **对象存储**：海量非结构化数据
6. **集中式vs分布式**：集中（简单但扩展差）、分布（复杂但扩展强）
7. **关系型数据库**：Oracle、DB2、MySQL、SQL Server、ACID特性
8. **NoSQL数据库**：MongoDB、HBase、Redis、非关系型
9. **数据中心三层架构**：核心层、汇聚层、接入层
10. **数据中心三模块**：网络连接、业务接入、后台管理

### 五、课后作业

**练习题1**：比较SAN和NAS存储技术的优缺点，并各举一个适用场景。

**练习题2**：关系型数据库和非关系型数据库的主要区别是什么？

**练习题3**：集中式存储和分布式存储各有什么优缺点？

**练习题4**：简述AI服务器的三要素及其作用。

### 六、课堂测验

**选择题1**：SAN存储技术的特点是（ ）
A. 价格便宜
B. 可扩展性好
C. 高带宽、低延迟
D. 基于以太网

**选择题2**：以下属于关系型数据库的是（ ）
A. MongoDB
B. HBase
C. MySQL
D. Redis

**选择题3**：分布式存储的特点不包括（ ）
A. 成本较低
B. 扩展能力强
C. 延迟低
D. 数据一致性问题

**选择题4**：AI服务器的三要素是（ ）
A. 计算、存储、网络
B. 算力、算法、数据
C. CPU、内存、硬盘
D. 训练、推理、优化

**选择题5**：云计算层次结构不包括（ ）
A. 显示层
B. 中间层
C. 应用层
D. 管理层

**选择题6**：云计算关键技术不包括（ ）
A. 虚拟化技术
B. 分布式数据存储技术
C. 人员管理技术
D. 资源管理技术

**选择题7**：云计算服务模式不包括（ ）
A. SaaS
B. PaaS
C. IaaS
D. MaaS

**选择题8**：云服务责任承担能力评估中，IaaS的特点是（ ）
A. 客户责任最小
B. 客户责任最大
C. 客户无责任
D. 客户责任中等

---

## 4.2 云资源系统

### 一、教学目标

掌握云计算的基本概念、服务模式、云产品、IaaS/PaaS/SaaS的特点、云数据中心架构等核心知识。

### 二、核心讲解

#### 1. 云计算

**云计算功能架构**：

| 架构部分 | 说明 |
|---------|------|
| **服务方面** | 向用户提供基于云的各种服务，包含SaaS、PaaS、IaaS三种模式 |
| **管理方面** | 提供云相关的管理功能，确保云计算中心安全、稳定运行并有效管理 |

**云计算层次结构**：
- **显示层**：用户界面
- **中间层**：业务逻辑
- **基础设施层**：资源池
- **管理层**：监控调度

**云计算关键技术**：
1. 虚拟化技术
2. 分布式数据存储技术
3. 资源管理技术
4. 云计算平台管理技术
5. 多租户隔离技术

**云计算运营模式**：

| 服务角色 | 说明 |
|---------|------|
| 云服务提供商 | 提供云计算服务 |
| 云服务消费者 | 使用云计算服务 |
| 云服务代理商 | 代理销售云服务 |
| 云计算审计 | 审计云服务质量 |
| 服务承运商 | 传输云服务 |

**云计算责任模型**：
- **IaaS**：客户责任最大（管理操作系统、中间件、应用、数据）
- **SaaS**：客户责任最小（只管理数据和用户访问）
- **PaaS**：客户责任介于IaaS和SaaS之间

**云计算服务交付模式**：
1. 组织所有，自行运营
2. 组织所有，运维外包
3. 组织所有，运维外包，外部运行
4. 组织租赁，外部运行，资源独占
5. 组织租赁，外部运行，资源共享调度
6. 公共云服务

#### 2. 云服务产品

**(1) 云服务器**

**特点**：高可用性、稳定性与安全性、弹性

**(2) 存储类产品**

| 存储类型 | 概念 | 特点 |
|---------|------|------|
| **块存储** | 高可用、高可靠、低成本、可定制化的块存储设备 | 弹性可扩展；多存储类型；简单易用；快照备份；分类 |
| **对象存储** | 海量、安全、低成本、高可靠的云存储服务 | 访问灵活；视频录像秒级回放；多维度安全防护；跨区域复制；图片处理；内容加速分发 |

**(3) 网络类产品**

| 网络产品 | 特点 | 应用场景 |
|---------|------|----------|
| **专有网络VPC** | 独立的虚拟化网络，可提供独立的路由器和交换机组件，实现彻底逻辑隔离 | 本地数据中心+云上业务的混合云模式；多租户的安全隔离；主动访问公网的抓取类业务 |
| **负载均衡** | 高可用；低成本；动态绑定和解绑；按需购买和灵活管理 | 高访问量的业务；横向扩张系统；消除单点故障；同城容灾 |
| **弹性公网IP** | 灵活独立的公网IP资源 | 业务系统高可靠的需求；带宽使用成本降低的需求；保证系统实时性的需求；游戏业务精确分区 |

**(4) 数据库类产品**

**云关系型数据库功能特点**：便宜易用、高性能、高安全性、高可靠性

**应用场景**：异地容灾、数据多样化存储、持久化缓存数据、大数据分析

**(5) 安全类产品**

**DDoS高防IP应用场景**：金融、娱乐（游戏）、媒资、电商、政府等对用户业务体验实时性要求较高的业务

**Web应用防火墙应用场景**：防止Web应用攻击，保障网站安全

**(6) 管理工具类产品**

**应用场景**：云服务监控、系统监控、及时处理异常场景、及时扩容场景、站点监控、自定义监控

#### 3. 云服务质量评估

**云主机服务质量评估**：
1. 通用处理能力
2. 系统处理能力
3. 行业应用承载能力
4. 交付服务内容评估

**对象存储服务质量评估**：
1. 数据存储的持久性
2. 数据可销毁性
3. 数据可迁移性
4. 数据私密性
5. 数据知情权
6. 服务可审查性
7. 服务功能
8. 服务可用性

#### 4. IaaS模式（基础设施即服务）

**核心内容**：

| 功能模块 | 说明 |
|---------|------|
| **资源抽象** | 将下层的物理硬件资源统一抽象成与单个物理硬件无关的资源集合 |
| **计算负载管理** | 将IT设备的硬件、存储及网络等资源统一虚拟化为资源池，再分割成独立的虚拟主机 |
| **数据存储管理** | 通过合理、安全、有效的方式将数据保存到介质上，并保证有效访问 |
| **网络管理** | 监测、控制和记录网络资源的性能和使用情况 |
| **安全服务** | 包括安全机制、安全连接、安全协议和安全策略等，重要数据采用RAID 0+1方式存储 |
| **云服务计费平台** | 采集IaaS、PaaS和SaaS服务资源数据，计算服务资源费用 |

#### 5. PaaS模式（平台即服务）

**中间件定义**：
独立的系统软件或服务程序，分布式应用软件借助这种软件在不同的技术之间共享资源，位于客户机服务器的操作系统之上，管理计算资源和网络通信。

**中间件功能**：
1. 通信支持
2. 应用支持
3. 公共服务

**中间件分类**：

| 分类 | 说明 |
|------|------|
| **事务式中间件** | 提供联机事务处理所需的通信、并发访问控制、事务控制、资源管理、安全管理、负载平衡、故障恢复等服务 |
| **过程式中间件** | 从逻辑上分为客户机和服务器两部分 |
| **面向消息中间件（MOM）** | 利用高效可靠的消息机制实现不同应用间大量的数据交换；通信模型包括消息队列和消息传递 |
| **面向对象中间件（DOM）** | 分布式计算技术和面向对象技术发展的结合 |
| **Web应用服务器** | J2EE架构是应用服务器方面的主流标准 |

**数据中台（PaaS）**：
包括基础中台、技术中台、数据中台和业务中台，合称为"大中台"。

**容器**：
没有自己的操作系统，直接共享宿主机的内核，优势："轻量化"。

#### 6. SaaS模式（软件即服务）

**定义**：
软件部署在云端，让用户通过互联网来使用它，云服务提供商把系统的应用软件层作为服务出租出去。

**面向个人用户的服务**：
账务管理、文件管理、照片管理、在线文档编辑、表制作、资源整合、日程表管理、联系人管理等

**面向企业用户的服务**：
在线存储管理、网上会议、项目管理、CRM、ERP、人力资源管理（HRM）、销售管理（STS）、协调办公系统（EOA）、财务管理、在线广告管理、特定行业应用服务

**适合做SaaS应用软件的特点**：
复杂、高效的多用户支持、模块化结构、多租户、多币种、多语言、多时区支持、非强交互性软件

**适合云化的软件**：
企事业单位的业务处理类软件、协同工作类软件、办公类软件、软件工具类

**SaaS模式优势**：
1. 云终端少量安装或不用安装软件
2. 有效使用软件许可证
3. 数据安全性得到提高
4. 无需复制数据并随身携带
5. 摆脱IT运维技术"泥潭"，专注于核心业务
6. 节约大量前期投资

**SaaS云服务实际应用**：
电子邮件和在线办公软件、计费开票软件、CRM、协作工具、CMS、财务软件、销售工具、ERP、在线翻译等

#### 7. 云数据中心

**云数据中心定义**：
包括计算资源、存储资源、电力资源、交互能力，以及弹性、负载均衡及虚拟化资源部署方式，所有计算、存储及网络资源都以服务的方式提供。

**云数据中心五大要素**：
1. 面向服务
2. 资源池化
3. 高效智能
4. 按需供给
5. 低碳环保

**总体架构**：
自下而上由数据中心机房层（基础）、物理资源层、基础设施层、平台服务层、软件服务层、终端用户层六大部分构成。

**核心技术**：

| 技术 | 内容 |
|------|------|
| **网络架构设计** | 良好的可扩展性、多路径容错能力、低时延、高带宽网络传输能力、模块化设计、网络扁平化、绿色节能 |
| **网络融合技术** | 光纤以太网通道技术、数据中心桥接技术及多链接透明互连技术 |
| **网络性能测试** | 主动测试（端到端时延、丢包及时延变化）、被动测试（路径吞吐量等流量参数） |
| **虚拟化技术** | 对计算机系统软硬件资源的划分和抽象；分为硬件仿真技术、全虚拟化技术、半虚拟化技术 |
| **安全技术** | 安全管理包括管理制度、管理机构、人员管理、系统建设、系统运维 |
| **节能技术** | 电能利用效率（PUE）= 数据中心消耗的所有能源 / IT负载使用的能源，PUE越接近1，绿色化程度越高 |

#### 8. 规划与建设

**GB 50174《数据中心设计规范》分级**：
根据使用性质、管理要求及重要数据丢失或网络中断造成的损失或影响程度，分为A、B、C三级（从高到低）。

**各类型数据中心发展特点**：
1. 城市数据中心向实时性和弹性化发展
2. 边缘数据中心实现计算能力下沉
3. 数据中心和网络建设协同布局
4. 试点探索建设国际化数据中心

**建设项目分类**：
- 建筑工程
- 机房空调与配电工程
- 供电系统工程
- 机房工艺工程

**建设布局**：

| 要点 | 说明 |
|------|------|
| **选址要求** | 电力供给充足且稳定可靠；水源充足；自然环境清洁；远离粉尘、油烟、有害气体、腐蚀性、易燃、易爆物品；远离无线电干扰源、电波发射塔等强磁干扰；远离强振动源和强噪声源；不宜建在公共停车库正上方；宜建在住宅小区和商业区内 |
| **功能单元布局原则** | 整体性原则；安全性原则；模块化原则；灵活性及可扩展性原则；可维护性原则；经济性原则 |

### 三、通俗例子

**云计算三层例子**：
- **IaaS**：像租房子，提供基本的居住空间
- **PaaS**：像租房+装修，提供装修好的房子
- **SaaS**：像住酒店，直接入住享受服务

**中间件例子**：
就像餐厅的服务员（中间件），连接客人（应用软件）和厨房（操作系统），负责传递信息和管理资源。

**容器例子**：
就像集装箱，虽然里面装不同的货物，但外部尺寸统一，可以高效运输。容器共享操作系统内核，但相互隔离。

**云数据中心例子**：
就像一个大型购物中心，提供各种商店（计算资源）、仓库（存储资源）、停车场（网络资源），所有资源都可以按需租用。

### 四、知识点速记

1. **云计算两架构**：服务方面（提供SaaS/PaaS/IaaS）、管理方面（确保安全稳定运行）
2. **云计算层次四层**：显示层、中间层、基础设施层、管理层
3. **IaaS责任**：客户责任最大
4. **SaaS责任**：客户责任最小
5. **PaaS责任**：介于IaaS和SaaS之间
6. **云服务器三特点**：高可用性、稳定性、弹性
7. **中间件五类型**：事务式、过程式、面向消息、面向对象、Web应用服务器
8. **SaaS六优势**：少安装、许可证有效、数据安全、无需携带、专注业务、节约投资
9. **云数据中心五要素**：面向服务、资源池化、高效智能、按需供给、低碳环保
10. **数据中心架构六层**：机房层→物理资源层→基础设施层→平台服务层→软件服务层→终端用户层
11. **PUE公式**：数据中心总能耗 / IT设备能耗，越接近1越绿色
12. **数据中心三级**：A级（最高）、B级、C级（最低）

### 五、课后作业

**练习题1**：比较IaaS、PaaS、SaaS三种服务模式的特点和客户责任。

**练习题2**：简述云数据中心的五大要素及其作用。

**练习题3**：中间件主要有哪些类型？各有什么特点？

**练习题4**：SaaS模式相比传统软件有哪些优势？

**练习题5**：数据中心选址应考虑哪些因素？

### 六、课堂测验

**选择题1**：在云计算服务模式中，客户责任最小的是（ ）
A. IaaS
B. PaaS
C. SaaS
D. 以上都不是

**选择题2**：PUE值越接近（ ）表示数据中心绿色化程度越高
A. 0
B. 1
C. 2
D. 10

**选择题3**：以下属于PaaS服务的是（ ）
A. 虚拟机
B. 操作系统
C. 中间件
D. 数据库

**选择题4**：容器技术的优势是（ ）
A. 完整的操作系统
B. 轻量化
C. 强隔离性
D. 高性能

**选择题5**：云数据中心不包括（ ）
A. 计算资源
B. 存储资源
C. 网络资源
D. 物理服务器

**选择题6**：IaaS、PaaS、SaaS中，客户责任最小的是（ ）
A. IaaS
B. PaaS
C. SaaS
D. 以上都不是

**选择题7**：PUE值越接近（ ）表示数据中心绿色化程度越高
A. 0
B. 1
C. 2
D. 10

**选择题8**：容器技术的优势是（ ）
A. 完整的操作系统
B. 轻量化
C. 强隔离性
D. 高性能
